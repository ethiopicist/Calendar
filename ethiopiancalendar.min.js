!function(e){var a={init:function(a,i){var o=this,l=t(a);e.i18n({locale:l.locale}).load({en:"i18n/languages/en.json",am:"i18n/languages/am.json",ti:"i18n/languages/ti.json",om:"i18n/languages/om.json",pl:"i18n/languages/pl.json",fr:"i18n/languages/fr.json"}).done(function(){n(o),r(o,l),i&&i()})},update:function(a,n){var i=t(a);e.i18n({locale:i.locale}),r(this,i),n&&n()}};function t(a){var t={savePrefs:!1,useSavedPrefs:!1,locale:"en",language:"gez",startDay:1,localeDays:!0,useLetters:!0,useNumbers:!0,gregorianDates:!0,calendarMonth:new Date};if(a)if(a.useSavedPrefs&&null!==localStorage.getItem("calendar-prefs")){var n=JSON.parse(localStorage.getItem("calendar-prefs"));n.calendarMonth=new Date(n.calendarMonth),a.savePrefs?(e.extend(n,a),e.extend(t,n),localStorage.setItem("calendar-prefs",JSON.stringify(t))):(e.extend(a,n),e.extend(t,a))}else a.savePrefs?(e.extend(t,a),localStorage.setItem("calendar-prefs",JSON.stringify(t))):e.extend(t,a);return"am"!=t.locale&&"ti"!=t.locale||(t.useLetters=!0),"oro"==t.language&&(t.useNumbers=!1),t}function n(a){a.html("");var t=e('<div class="calendar-head" />').appendTo(a);e('<div class="calendar-title-row" />').append(e('<div class="calendar-title-cell" />').append(e('<div class="calendar-title-cell-inner" />').append(e('<h1 class="calendar-title" />').text(" ").prepend(e('<span class="month-name" />')).append(e('<span class="year-number" />'))))).appendTo(t);var n=e('<div class="calendar-dow-row" />').appendTo(t);for(i=0;i<7;i++)n.append(e("<div />").addClass("calendar-dow-cell-"+i).append(e('<div class="calendar-dow-cell-inner">').append(e('<span class="dow-name-long" />'),e('<span class="dow-name-short" />'))));var r=e('<div class="calendar-body" />').appendTo(a);for(i=0;i<6;i++){var o=e('<div class="calendar-row-'+i+'" />').appendTo(r);for(j=0;j<7;j++){var l=e('<div class="calendar-cell-'+i+"-"+j+'" />').appendTo(o);e('<div class="calendar-cell-inner" />').append(e('<span class="label-ethiopian-date" />'),e('<span class="label-ethiopian-month-long" />'),e('<span class="label-ethiopian-month-short" />'),e('<span class="label-ethiopian-month-min" />'),e('<span class="label-gregorian-date" />'),e('<span class="label-gregorian-month-long" />'),e('<span class="label-gregorian-month-short" />'),e('<span class="label-gregorian-month-min" />')).appendTo(l)}}}function r(a,t){var n=e(a).find(".calendar-head .calendar-title-row .calendar-title-cell .calendar-title-cell-inner .calendar-title");n.children(".month-name").text(l(t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.language,t.useLetters)),n.children(".year-number").text(t.useNumbers?c(t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"})):t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"}).substr(0,4));var r=e(a).find(".calendar-head .calendar-dow-row");for(i=0;i<7;i++){var d=(i+t.startDay)%7,u=r.find(".calendar-dow-cell-"+i+" .calendar-dow-cell-inner");u.children(".dow-name-long").text(s(d,t.localeDays?"locale":t.language,t.useLetters,"long")),u.children(".dow-name-short").text(s(d,t.localeDays?"locale":t.language,t.useLetters,"short"))}var h=e(a).children(".calendar-body"),g=o(t.calendarMonth,t.startDay);for(i=0;i<6;i++){var m=h.children(".calendar-row-"+i);for(j=0;j<7;j++){var p=m.children(".calendar-cell-"+i+"-"+j);p.removeClass("is-different-month is-today"),p.attr("data-ethiopian-date",g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric",month:"numeric",year:"numeric"}).slice(0,-5).replace(/\//g,"-")),p.attr("data-gregorian-date",g.toLocaleDateString("en-US",{day:"numeric",month:"numeric",year:"numeric"}).replace(/\//g,"-"));var S=p.children(".calendar-cell-inner");S.children().text(""),(0==i&&0==j||1==g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"}))&&(S.children(".label-ethiopian-month-long").text(l(g.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.language,t.useLetters,"long")),S.children(".label-ethiopian-month-short").text(l(g.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.language,t.useLetters,"short")),S.children(".label-ethiopian-month-min").text(l(g.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.language,t.useLetters,"short"))),g.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})!=t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})?p.addClass("is-different-month"):g.toLocaleDateString()==(new Date).toLocaleDateString()&&p.addClass("is-today"),S.children(".label-ethiopian-date").text(t.useNumbers?c(g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})):g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})),t.gregorianDates&&(S.children(".label-gregorian-date").text(g.getDate()),(0==i&&0==j||1==g.getDate())&&(S.children(".label-gregorian-month-long").text(e.i18n("month"+g.toLocaleDateString("en-US",{month:"numeric"})+"long")+" "+g.toLocaleDateString("en-US",{year:"numeric"})),S.children(".label-gregorian-month-short").text(e.i18n("month"+g.toLocaleDateString("en-US",{month:"numeric"})+"short")+e.i18n("shortSeparator")+g.toLocaleDateString("en-US",{year:"2-digit"})),S.children(".label-gregorian-month-min").text(e.i18n("month"+g.toLocaleDateString("en-US",{month:"numeric"})+"long")))),g.setDate(g.getDate()+1)}}}function o(e,a){var t=new Date(e.getTime());t.setDate(t.getDate()-t.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})+1);var n=t.getDay()-a;return 0==t.getDay()&&1==a&&(n=6),13==t.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})&&(n+=14),t.setDate(t.getDate()-n),t}function l(e,a,t,n){var r=["መስከረም","ጥቅምት","ኅዳር","ታኅሣሥ","ጥር","የካቲት","መጋቢት","ሚያዝያ","ግንቦት","ሰኔ","ሐምሌ","ነሐሴ","ጳጕሜን"],i=["Maskaram","Ṭəqəmt","Ḫədār","Tāḫśāś","Ṭərr","Yakkātit","Maggābit","Miyāzyā","Gənbot","Sane","Ḥamle","Naḥase","Ṗāgʷəmen"],o=r.slice();o[5]="ለካቲት",o[4]="ጥሪ",o[1]="ጥቅምቲ";var l=i.slice();l[5]="Lakkātit",l[4]="Ṭərri",l[1]="Ṭəqəmti";var s=["Maskarram","Xiqqimt","Hidaar","Tahsaas","Xirr","Yakkaatit","Maggaabit","Miyaazyaa","Ginbbot","Sanee","Haamlee","Nahasse","Qaamme"];return"tig"==a?t?"short"==n?o[e-1].substr(0,2):o[e-1]:"short"==n?l[e-1].substr(0,4):l[e-1]:"oro"==a?"short"==n?s[e-1].substr(0,4):s[e-1]:t?"short"==n?r[e-1].substr(0,2):r[e-1]:"short"==n?i[e-1].substr(0,4):i[e-1]}function s(a,t,n,r){var i=["እሑድ","ሰኑይ","ሠሉስ","ረቡዕ","ኀሙስ","ዐርብ","ቀዳም"],o=["ʾƎḥud","Sanuy","Śalus","Rabuʿ","Ḫamus","ʿArb","Qadām"],l,s=["ʾƎḥud","Saño","Māgsaño","Rabuʿ","Ḫamus","ʿĀrb","Qədāme"],c=["እሑድ","ሶኑይ","ሦሉስ","ሮቡዕ","ሓሙስ","ዓርቢ","ቐዳም"],d=["ʾƎḥud","Sonuy","Śolus","Robuʿ","Ḥāmus","ʿĀrbi","Q̱adām"],u=["Dilbata","Wixata","Kibxata","Roobii","Kamisa","Jimaata","Sambata"];return"amh"==t?n?["እሑድ","ሰኞ","ማግሰኞ","ረቡዕ","ኀሙስ","ዓርብ","ቅዳሜ"][a]:"short"==r?s[a].substr(0,3):s[a]:"tig"==t?n?c[a]:"short"==r?d[a].substr(0,3):d[a]:"oro"==t?"short"==r?u[a].substr(0,3):u[a]:"locale"==t?e.i18n("day"+a+r):n?i[a]:"short"==r?o[a].substr(0,3):o[a]}function c(e){return"number"!=typeof e&&(e=parseInt(e)),0==e?"":1==e?"፩":2==e?"፪":3==e?"፫":4==e?"፬":5==e?"፭":6==e?"፮":7==e?"፯":8==e?"፰":9==e?"፱":e>=10&&e<20?"፲"+c(e-10):e>=20&&e<30?"፳"+c(e-20):e>=30&&e<40?"፴"+c(e-30):e>=40&&e<50?"፵"+c(e-40):e>=50&&e<60?"፶"+c(e-50):e>=60&&e<70?"፷"+c(e-60):e>=70&&e<80?"፸"+c(e-70):e>=80&&e<90?"፹"+c(e-80):e>=90&&e<100?"፺"+c(e-90):e>=100&&e<200?"፻"+c(e-100):e>=200&&e<1e4?c((e-e%100)/100)+"፻"+c(e%100):e>=1e4&&e<2e4?"፼"+c(e-1e4):e>=2e4&&e<1e6?c((e-e%1e4)/1e4)+"፼"+c(e%1e4):void 0}e.fn.ethiopianCalendar=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist in jQuery.ethiopiancalendar"):a.init.apply(this,arguments)}}(jQuery);