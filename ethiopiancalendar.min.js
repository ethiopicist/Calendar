!function(e){var a={init:function(e,a){t(this,e),a&&a()},update:function(e,a){this.html(""),t(this,e),a&&a()}};function t(a,t){var c={savePrefs:!1,useSavedPrefs:!1,startDay:1,useLetters:!0,useNumbers:!0,monthNames:"gez",dayNames:"gez",gregorianDates:!0,calendarMonth:new Date};if(t)if(t.useSavedPrefs&&null!==localStorage.getItem("calendar-prefs")){var d=JSON.parse(localStorage.getItem("calendar-prefs"));d.calendarMonth=new Date(d.calendarMonth),t.savePrefs?(e.extend(d,t),e.extend(c,d),localStorage.setItem("calendar-prefs",JSON.stringify(c))):(e.extend(t,d),e.extend(c,t))}else t.savePrefs?(e.extend(c,t),localStorage.setItem("calendar-prefs",JSON.stringify(c))):e.extend(c,t);var l=e('<tr class="calendar-title-row" />').append(e('<th colspan="7" />').html('<h1 class="calendar-title">'+r(c.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),c.monthNames,c.useLetters)+" "+(c.useNumbers?s(c.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"})):c.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"}))+"</h1>")),u=e('<tr class="calendar-days-of-week" />');for(i=0;i<7;i++){var m=(i+c.startDay)%7;u.append(e('<th class="calendar-day-of-week" />').append(e('<span class="day-of-week-long" />').text(o(m,c.dayNames,c.useLetters)),e('<span class="day-of-week-short" />').text(o(m,c.dayNames,c.useLetters).substr(0,3))))}var p=e("<thead/>").append(l,u),h=[],g=n(c.calendarMonth,c.startDay);for(i=0;i<6;i++)for(h[i]=e('<tr class="calendar-row-'+i+'" />'),j=0;j<7;j++){var y=e("<td />");y.addClass("calendar-cell-"+i+"-"+j),y.attr("data-ethiopian-date",g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric",month:"numeric",year:"numeric"})),y.attr("data-gregorian-date",g.toLocaleDateString("en-US",{day:"numeric",month:"numeric",year:"numeric"})),y.append(e('<span class="ethiopian-date" />').text(c.useNumbers?s(g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})):g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"}))),g.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})!=c.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})&&(y.addClass("different-month"),(0==i&&0==j||1==g.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"}))&&y.append(e('<span class="ethiopian-month" />').text(r(g.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),c.monthNames,c.useLetters)))),g.toLocaleDateString()==(new Date).toLocaleDateString()&&y.addClass("todays-date"),c.gregorianDates&&(y.append(e('<span class="gregorian-date" />').text(g.getDate())),(0==i&&0==j||1==g.getDate())&&y.append(e('<span class="gregorian-month" />').text(g.toLocaleDateString("en-US",{month:"long",year:"numeric"})))),h[i].append(y),g.setDate(g.getDate()+1)}var S=e("<tbody/>").append(h),f=e("<tfoot/>");a.append(p,S,f)}function n(e,a){var t=new Date(e.getTime());t.setDate(t.getDate()-t.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})+1);var n=t.getDay()-a;return 0==t.getDay()&&1==a&&(n=6),13==t.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})&&(n+=14),t.setDate(t.getDate()-n),t}function r(e,a,t){var n=["መስከረም","ጥቅምት","ኅዳር","ታኅሣሥ","ጥር","የካቲት","መጋቢት","ሚያዝያ","ግንቦት","ሰኔ","ሐምሌ","ነሐሴ","ጳጕሜን"],r=["Maskaram","Ṭəqəmt","Ḫədār","Tāḫśāś","Ṭərr","Yakkātit","Maggābit","Miyāzyā","Gənbot","Sane","Ḥamle","Naḥase","Ṗāgʷəmen"],i=n.slice();i[5]="ለካቲት",i[4]="ጥሪ",i[1]="ጥቅምቲ";var o=r.slice();o[5]="Lakkātit",o[4]="Ṭərri",o[1]="Ṭəqəmti";var s=[];return"tig"==a?t?i[e-1]:o[e-1]:t?n[e-1]:r[e-1]}function o(e,a,t){var n=["እሑድ","ሰኑይ","ሠሉስ","ረቡዕ","ኀሙስ","ዐርብ","ቀዳም"],r=["ʾƎḥud","Sanuy","Śalus","Rabuʿ","Ḫamus","ʿArb","Qadām"],i,o=["ʾƎḥud","Saño","Maksaño","Rabuʿ","Ḫamus","ʿĀrb","Qədāme"],s=["እሑድ","ሶኑይ","ሦሉስ","ሮቡዕ","ሓሙስ","ዓርቢ","ቐዳም"],c=["ʾƎḥud","Sonuy","Śolus","Robuʿ","Ḥāmus","ʿĀrbi","Q̱adām"],d=[],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return"amh"==a?t?["እሑድ","ሰኞ","መክሰኞ","ረቡዕ","ኀሙስ","ዓርብ","ቅዳሜ"][e]:o[e]:"tig"==a?t?s[e]:c[e]:"eng"==a?l[e]:t?n[e]:r[e]}function s(e){return"number"!=typeof e&&(e=parseInt(e)),0==e?"":1==e?"፩":2==e?"፪":3==e?"፫":4==e?"፬":5==e?"፭":6==e?"፮":7==e?"፯":8==e?"፰":9==e?"፱":e>=10&&e<20?"፲"+s(e-10):e>=20&&e<30?"፳"+s(e-20):e>=30&&e<40?"፴"+s(e-30):e>=40&&e<50?"፵"+s(e-40):e>=50&&e<60?"፶"+s(e-50):e>=60&&e<70?"፷"+s(e-60):e>=70&&e<80?"፸"+s(e-70):e>=80&&e<90?"፹"+s(e-80):e>=90&&e<100?"፺"+s(e-90):e>=100&&e<200?"፻"+s(e-100):e>=200&&e<1e4?s((e-e%100)/100)+"፻"+s(e%100):e>=1e4&&e<2e4?"፼"+s(e-1e4):e>=2e4&&e<1e6?s((e-e%1e4)/1e4)+"፼"+s(e%1e4):void 0}e.fn.ethiopianCalendar=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist in jQuery.ethiopiancalendar"):a.init.apply(this,arguments)}}(jQuery);