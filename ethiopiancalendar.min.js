!function(e){var a={init:function(a,r){var i=this,o=t(a);e.i18n({locale:o.locale}).load({en:"i18n/languages/en.json",am:"i18n/languages/am.json",ti:"i18n/languages/ti.json",om:"i18n/languages/om.json",pl:"i18n/languages/pl.json",fr:"i18n/languages/fr.json"}).done(function(){n(i,o),r&&r()})},update:function(a,r){this.html("");var i=t(a);e.i18n({locale:i.locale}),n(this,i),r&&r()}};function t(a){var t={savePrefs:!1,useSavedPrefs:!1,locale:"en",language:"gez",startDay:1,localeDays:!0,useLetters:!0,useNumbers:!0,gregorianDates:!0,calendarMonth:new Date};if(a)if(a.useSavedPrefs&&null!==localStorage.getItem("calendar-prefs")){var n=JSON.parse(localStorage.getItem("calendar-prefs"));n.calendarMonth=new Date(n.calendarMonth),a.savePrefs?(e.extend(n,a),e.extend(t,n),localStorage.setItem("calendar-prefs",JSON.stringify(t))):(e.extend(a,n),e.extend(t,a))}else a.savePrefs?(e.extend(t,a),localStorage.setItem("calendar-prefs",JSON.stringify(t))):e.extend(t,a);return"am"!=t.locale&&"ti"!=t.locale||(t.useLetters=!0),"oro"==t.language&&(t.useNumbers=!1),t}function n(a,t){var n=e('<div class="calendar-title-row" />').append(e('<div class="calendar-title-cell" />').append(e('<div class="calendar-title-cell-inner" />').append(e('<h1 class="calendar-title" />').text(" ").prepend(e('<span class="month-name" />').text(o(t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.language,t.useLetters))).append(e('<span class="year-number" />').text(t.useNumbers?s(t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"})):t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"}).substr(0,4)))))),c=e('<div class="calendar-dow-row" />');for(i=0;i<7;i++){var d=(i+t.startDay)%7;c.append(e("<div />").addClass("calendar-dow-cell-"+i).append(e('<div class="calendar-dow-cell-inner">').append(e('<span class="dow-name-long" />').text(l(d,t.localeDays?"locale":t.language,t.useLetters,"long")),e('<span class="dow-name-short" />').text(l(d,t.localeDays?"locale":t.language,t.useLetters,"short")))))}var u=e('<div class="calendar-head" />').append(n,c),g=[],p=r(t.calendarMonth,t.startDay);for(i=0;i<6;i++)for(g[i]=e('<div class="calendar-row-'+i+'" />'),j=0;j<7;j++){var m=e("<div />");m.addClass("calendar-cell-"+i+"-"+j);var h=e('<div class="calendar-cell-inner" />');m.attr("data-ethiopian-date",p.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric",month:"numeric",year:"numeric"})),m.attr("data-gregorian-date",p.toLocaleDateString("en-US",{day:"numeric",month:"numeric",year:"numeric"})),h.append(e('<span class="label-ethiopian-date" />').text(t.useNumbers?s(p.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})):p.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"}))),p.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})!=t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})&&(m.addClass("calendar-cell-is-diff-month"),(0==i&&0==j||1==p.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"}))&&h.append(e('<span class="label-ethiopian-month-long" />').text(o(p.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.language,t.useLetters)),e('<span class="label-ethiopian-month-short" />').text(o(p.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.language,t.useLetters).substr(0,2)))),p.toLocaleDateString()==(new Date).toLocaleDateString()&&m.addClass("calendar-cell-is-today"),t.gregorianDates&&(h.append(e('<span class="label-gregorian-date" />').text(p.getDate())),(0==i&&0==j||1==p.getDate())&&h.append(e('<span class="label-gregorian-month-long" />').text(e.i18n("month"+p.toLocaleDateString("en-US",{month:"numeric"})+"long")+" "+p.toLocaleDateString("en-US",{year:"numeric"})),e('<span class="label-gregorian-month-short" />').text(e.i18n("month"+p.toLocaleDateString("en-US",{month:"numeric"})+"short")+e.i18n("shortSeparator")+p.toLocaleDateString("en-US",{year:"2-digit"})))),g[i].append(m.append(h)),p.setDate(p.getDate()+1)}var S=e('<div class="calendar-body" />').append(g);a.append(u,S)}function r(e,a){var t=new Date(e.getTime());t.setDate(t.getDate()-t.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})+1);var n=t.getDay()-a;return 0==t.getDay()&&1==a&&(n=6),13==t.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})&&(n+=14),t.setDate(t.getDate()-n),t}function o(e,a,t){var n=["መስከረም","ጥቅምት","ኅዳር","ታኅሣሥ","ጥር","የካቲት","መጋቢት","ሚያዝያ","ግንቦት","ሰኔ","ሐምሌ","ነሐሴ","ጳጕሜን"],r=["Maskaram","Ṭəqəmt","Ḫədār","Tāḫśāś","Ṭərr","Yakkātit","Maggābit","Miyāzyā","Gənbot","Sane","Ḥamle","Naḥase","Ṗāgʷəmen"],i=n.slice();i[5]="ለካቲት",i[4]="ጥሪ",i[1]="ጥቅምቲ";var o=r.slice();o[5]="Lakkātit",o[4]="Ṭərri",o[1]="Ṭəqəmti";var l=["Maskaram","Xeqemt","Hedaar","Taahsaas","Xerr","Yakkaatit","Maggaabit","Miyaazyaa","Genbot","Sanee","Haamlee","Nahaasee","Paagumee"];return"tig"==a?t?i[e-1]:o[e-1]:"oro"==a?l[e-1]:t?n[e-1]:r[e-1]}function l(a,t,n,r){var i=["እሑድ","ሰኑይ","ሠሉስ","ረቡዕ","ኀሙስ","ዐርብ","ቀዳም"],o=["ʾƎḥud","Sanuy","Śalus","Rabuʿ","Ḫamus","ʿArb","Qadām"],l,s=["ʾƎḥud","Saño","Māgsaño","Rabuʿ","Ḫamus","ʿĀrb","Qədāme"],c=["እሑድ","ሶኑይ","ሦሉስ","ሮቡዕ","ሓሙስ","ዓርቢ","ቐዳም"],d=["ʾƎḥud","Sonuy","Śolus","Robuʿ","Ḥāmus","ʿĀrbi","Q̱adām"],u=["Dilbata","Wixata","Kibxata","Roobii","Kamisa","Jimaata","Sambata"];return"amh"==t?n?["እሑድ","ሰኞ","ማግሰኞ","ረቡዕ","ኀሙስ","ዓርብ","ቅዳሜ"][a]:"short"==r?s[a].substr(0,3):s[a]:"tig"==t?n?c[a]:"short"==r?d[a].substr(0,3):d[a]:"oro"==t?"short"==r?u[a].substr(0,3):u[a]:"locale"==t?e.i18n("day"+a+r):n?i[a]:"short"==r?o[a].substr(0,3):o[a]}function s(e){return"number"!=typeof e&&(e=parseInt(e)),0==e?"":1==e?"፩":2==e?"፪":3==e?"፫":4==e?"፬":5==e?"፭":6==e?"፮":7==e?"፯":8==e?"፰":9==e?"፱":e>=10&&e<20?"፲"+s(e-10):e>=20&&e<30?"፳"+s(e-20):e>=30&&e<40?"፴"+s(e-30):e>=40&&e<50?"፵"+s(e-40):e>=50&&e<60?"፶"+s(e-50):e>=60&&e<70?"፷"+s(e-60):e>=70&&e<80?"፸"+s(e-70):e>=80&&e<90?"፹"+s(e-80):e>=90&&e<100?"፺"+s(e-90):e>=100&&e<200?"፻"+s(e-100):e>=200&&e<1e4?s((e-e%100)/100)+"፻"+s(e%100):e>=1e4&&e<2e4?"፼"+s(e-1e4):e>=2e4&&e<1e6?s((e-e%1e4)/1e4)+"፼"+s(e%1e4):void 0}e.fn.ethiopianCalendar=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist in jQuery.ethiopiancalendar"):a.init.apply(this,arguments)}}(jQuery);