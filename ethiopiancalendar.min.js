!function(h){var a={init:function(e){t(this,e)},update:function(e){this.html(""),t(this,e)}};function t(e,a){var t={savePrefs:!1,useSavedPrefs:!1,startDay:1,useLetters:!0,useNumbers:!0,monthNames:"gez",dayNames:"gez",gregorianDates:!0,calendarMonth:new Date};if(a)if(a.useSavedPrefs&&null!==localStorage.getItem("calendar-prefs")){var n=JSON.parse(localStorage.getItem("calendar-prefs"));n.calendarMonth=new Date(n.calendarMonth),a.savePrefs?(h.extend(n,a),h.extend(t,n),localStorage.setItem("calendar-prefs",JSON.stringify(t))):(h.extend(a,n),h.extend(t,a))}else a.savePrefs?(h.extend(t,a),localStorage.setItem("calendar-prefs",JSON.stringify(t))):h.extend(t,a);var r=h('<tr class="calendar-title-row" />').append(h('<th colspan="7" />').html('<h1 class="calendar-title">'+y(t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.monthNames,t.useLetters)+" "+(t.useNumbers?f(t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"})):t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{year:"numeric"}))+"</h1>")),o=h('<tr class="calendar-days-of-week" />');for(i=0;i<7;i++){var s=(i+t.startDay)%7;o.append(h('<th class="calendar-day-of-week" />').append(h('<span class="day-of-week-long" />').text(S(s,t.dayNames,t.useLetters)),h('<span class="day-of-week-short" />').text(S(s,t.dayNames,t.useLetters).substr(0,3))))}var c=h("<thead/>").append(r,o),d=[],l=g(t.calendarMonth,t.startDay);for(i=0;i<6;i++)for(d[i]=h('<tr class="calendar-row-'+i+'" />'),j=0;j<7;j++){var u=h('<td class="calendar-cell-'+i+"-"+j+'" />');u.append(h('<span class="ethiopian-date" />').text(t.useNumbers?f(l.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})):l.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"}))),l.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})!=t.calendarMonth.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"})&&(u.addClass("different-month"),(0==i&&0==j||1==l.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"}))&&u.append(h('<span class="ethiopian-month" />').text(y(l.toLocaleDateString("en-US-u-ca-ethiopic",{month:"numeric"}),t.monthNames,t.useLetters)))),l.toLocaleDateString()==(new Date).toLocaleDateString()&&u.addClass("todays-date"),t.gregorianDates&&(u.append(h('<span class="gregorian-date" />').text(l.getDate())),(0==i&&0==j||1==l.getDate())&&u.append(h('<span class="gregorian-month" />').text(l.toLocaleDateString("en-US",{month:"long",year:"numeric"})))),d[i].append(u),l.setDate(l.getDate()+1)}var p=h("<tbody/>").append(d),m=h("<tfoot/>");e.append(c,p,m)}function g(e,a){var t=new Date(e.getTime());t.setDate(t.getDate()-t.toLocaleDateString("en-US-u-ca-ethiopic",{day:"numeric"})+1);var n=t.getDay()-a;return 0==t.getDay()&&(n=6),t.setDate(t.getDate()-n),t}function y(e,a,t){var n=["መስከረም","ጥቅምት","ኅዳር","ታኅሣሥ","ጥር","የካቲት","መጋቢት","ሚያዝያ","ግንቦት","ሰኔ","ሐምሌ","ነሐሴ","ጳጕሜን"],r=["Maskaram","Ṭəqəmt","Ḫədār","Tāḫśāś","Ṭərr","Yakkātit","Maggābit","Miyāzyā","Gənbot","Sane","Ḥamle","Naḥase","Ṗāgʷəmen"],i=n.slice();i[5]="ለካቲት",i[4]="ጥሪ",i[1]="ጥቅምቲ";var o=r.slice();return o[5]="Lakkātit",o[4]="Ṭərri",o[1]="Ṭəqəmti","tig"==a?t?i[e-1]:o[e-1]:t?n[e-1]:r[e-1]}function S(e,a,t){var n=["እሑድ","ሰኑይ","ሠሉስ","ረቡዕ","ኀሙስ","ዐርብ","ቀዳም"],r=["ʾƎḥud","Sanuy","Śalus","Rabuʿ","Ḫamus","ʿArb","Qadām"],i,o=["ʾƎḥud","Saño","Maksaño","Rabuʿ","Ḫamus","ʿĀrb","Qədāme"],s=["እሑድ","ሶኑይ","ሦሉስ","ሮቡዕ","ሓሙስ","ዓርቢ","ቐዳም"],c=["ʾƎḥud","Sonuy","Śolus","Robuʿ","Ḥāmus","ʿĀrbi","Q̱adām"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return"amh"==a?t?["እሑድ","ሰኞ","መክሰኞ","ረቡዕ","ኀሙስ","ዓርብ","ቅዳሜ"][e]:o[e]:"tig"==a?t?s[e]:c[e]:"eng"==a?t?d[e]:engDayNamesTranslit[e]:t?n[e]:r[e]}function f(e){return"number"!=typeof e&&(e=parseInt(e)),0==e?"":1==e?"፩":2==e?"፪":3==e?"፫":4==e?"፬":5==e?"፭":6==e?"፮":7==e?"፯":8==e?"፰":9==e?"፱":10<=e&&e<20?"፲"+f(e-10):20<=e&&e<30?"፳"+f(e-20):30<=e&&e<40?"፴"+f(e-30):40<=e&&e<50?"፵"+f(e-40):50<=e&&e<60?"፶"+f(e-50):60<=e&&e<70?"፷"+f(e-60):70<=e&&e<80?"፸"+f(e-70):80<=e&&e<90?"፹"+f(e-80):90<=e&&e<100?"፺"+f(e-90):100<=e&&e<200?"፻"+f(e-100):200<=e&&e<1e4?f((e-e%100)/100)+"፻"+f(e%100):1e4<=e&&e<2e4?"፼"+f(e-1e4):2e4<=e&&e<1e6?f((e-e%1e4)/1e4)+"፼"+f(e%1e4):void 0}h.fn.ethiopianCalendar=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void h.error("Method "+e+" does not exist in jQuery.ethiopiancalendar"):a.init.apply(this,arguments)}}(jQuery);