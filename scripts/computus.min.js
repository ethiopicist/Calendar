/*!
 * Functions to generate an Ethiopic computus table
 * By Augustine Dickinson
 *
 * Copyright (c) 2020 Ethiopicist.com and its contributors.
 *
 * @licence MIT License
 */
!function(t){var e={init:function(t,e){a(this,t,e)}};function a(e,a,c){var u=e.children("tbody");const d=c.userPreferences;for("om"==d.language?t.i18n().locale="om":"am-eth"==c.locale||"ti-eth"==c.locale?t.i18n().locale=c.locale:t.i18n().locale=d.language+(d.useScript?"-eth":"-lat"),y=a<362?353:a-9;y<=(a<362?371:a+9);y++){var p=t("<tr />");t('<td class="has-text-right" />').text(toEthiopicNumeral(d.useAmataAlam?y+5500:y,d.useNumerals)).appendTo(p),t('<td class="has-text-centered" />').text(t.i18n("evangelist"+y%4)).appendTo(p),t('<td class="has-text-centered" />').text(toEthiopicNumeral(s(y),d.useNumerals)).appendTo(p),t('<td class="has-text-centered" />').text(toEthiopicNumeral(o(y),d.useNumerals)).appendTo(p),t('<td class="has-text-centered" />').text(toEthiopicNumeral(n(y),d.useNumerals)).appendTo(p),t('<td class="has-text-centered" />').text(r(y)?toEthiopicNumeral(r(y),d.useNumerals):d.useNumerals?"አልቦ":"0").appendTo(p),t('<td class="has-text-centered" />').text(toEthiopicNumeral(i(y),d.useNumerals)).appendTo(p),t.each(["nineveh","lent","mountOfOlives","palmSunday","goodFriday","easter","synod","ascension","pentecost","apostles","salvation"],(function(e,a){t('<td class="has-text-centered" />').text(t.i18n("ethMonth"+l(a,y).month+"short")+" "+toEthiopicNumeral(l(a,y).date,d.useNumerals)).attr("data-month",l(a,y).month).attr("data-year",y).attr("data-date",l(a,y).date).appendTo(p)})),y==a&&p.addClass("is-selected"),p.appendTo(u)}}function n(t){const e=dayOfWeek(ethiopicToJdn({year:t,month:1,date:1}));return(e+4)%7==0?7:(e+4)%7}function o(t){var e=t%19;return e<11?e+=9:e-=10,e}function s(t,e){var a=Math.floor((t+5500)/532-10);return 0==(t=(t+5500)%532)&&(t=532),"boolean"==typeof e&&e?{cycle:a,year:t}:t}function r(t){return 11*(o(t)-1)%30}function i(t){var e=19*(o(t)-1)%30;return 0==e&&(e=30),e}function c(t){const e=i(t);var a;return a=ethiopicToJdn({year:t,month:e>14?1:2,date:e}),a+=190,a+=7-(a+1.5)%7}function l(t,e){const a={nineveh:-69,lent:-55,mountOfOlives:-28,palmSunday:-7,goodFriday:-2,easter:0,synod:24,ascension:39,pentecost:49,apostles:50,salvation:52};var n=c(e);return n+=a[t],jdnToEthiopic(n)}t.fn.seaOfComputation=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist in jQuery.seaOfComputation"):e.init.apply(this,arguments)}}(jQuery);